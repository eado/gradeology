(this.webpackJsonpgradeology=this.webpackJsonpgradeology||[]).push([[8],{60:function(e,t,n){e.exports=n(87)},66:function(e,t,n){var r={"./ion-action-sheet-controller_8.entry.js":[93,43],"./ion-action-sheet-ios.entry.js":[94,44],"./ion-action-sheet-md.entry.js":[95,45],"./ion-alert-ios.entry.js":[96,24],"./ion-alert-md.entry.js":[97,25],"./ion-app_8-ios.entry.js":[98,11],"./ion-app_8-md.entry.js":[99,12],"./ion-avatar_3-ios.entry.js":[100,46],"./ion-avatar_3-md.entry.js":[101,47],"./ion-back-button-ios.entry.js":[102,48],"./ion-back-button-md.entry.js":[103,49],"./ion-backdrop-ios.entry.js":[104,81],"./ion-backdrop-md.entry.js":[105,82],"./ion-button_2-ios.entry.js":[106,50],"./ion-button_2-md.entry.js":[107,51],"./ion-card_5-ios.entry.js":[108,52],"./ion-card_5-md.entry.js":[109,53],"./ion-checkbox-ios.entry.js":[110,54],"./ion-checkbox-md.entry.js":[111,55],"./ion-chip-ios.entry.js":[112,56],"./ion-chip-md.entry.js":[113,57],"./ion-col_3.entry.js":[114,83],"./ion-datetime_3-ios.entry.js":[115,20],"./ion-datetime_3-md.entry.js":[116,21],"./ion-fab_3-ios.entry.js":[117,58],"./ion-fab_3-md.entry.js":[118,59],"./ion-img.entry.js":[119,84],"./ion-infinite-scroll_2-ios.entry.js":[120,39],"./ion-infinite-scroll_2-md.entry.js":[121,40],"./ion-input-ios.entry.js":[122,60],"./ion-input-md.entry.js":[123,61],"./ion-item-option_3-ios.entry.js":[124,62],"./ion-item-option_3-md.entry.js":[125,63],"./ion-item_8-ios.entry.js":[126,64],"./ion-item_8-md.entry.js":[127,65],"./ion-loading-ios.entry.js":[128,26],"./ion-loading-md.entry.js":[129,27],"./ion-menu_4-ios.entry.js":[130,18],"./ion-menu_4-md.entry.js":[131,19],"./ion-modal-ios.entry.js":[132,14],"./ion-modal-md.entry.js":[133,15],"./ion-nav_5.entry.js":[134,13],"./ion-popover-ios.entry.js":[135,16],"./ion-popover-md.entry.js":[136,17],"./ion-progress-bar-ios.entry.js":[137,66],"./ion-progress-bar-md.entry.js":[138,67],"./ion-radio_2-ios.entry.js":[139,32],"./ion-radio_2-md.entry.js":[140,33],"./ion-range-ios.entry.js":[141,68],"./ion-range-md.entry.js":[142,69],"./ion-refresher_2-ios.entry.js":[143,41],"./ion-refresher_2-md.entry.js":[144,42],"./ion-reorder_2-ios.entry.js":[145,37],"./ion-reorder_2-md.entry.js":[146,38],"./ion-ripple-effect.entry.js":[147,85],"./ion-route_4.entry.js":[148,70],"./ion-searchbar-ios.entry.js":[149,28],"./ion-searchbar-md.entry.js":[150,29],"./ion-segment_2-ios.entry.js":[151,71],"./ion-segment_2-md.entry.js":[152,72],"./ion-select_3-ios.entry.js":[153,34],"./ion-select_3-md.entry.js":[154,35],"./ion-slide_2-ios.entry.js":[155,86],"./ion-slide_2-md.entry.js":[156,87],"./ion-spinner.entry.js":[157,73],"./ion-split-pane-ios.entry.js":[158,88],"./ion-split-pane-md.entry.js":[159,89],"./ion-tab-bar_2-ios.entry.js":[160,74],"./ion-tab-bar_2-md.entry.js":[161,75],"./ion-tab_2.entry.js":[162,36],"./ion-text.entry.js":[163,76],"./ion-textarea-ios.entry.js":[164,77],"./ion-textarea-md.entry.js":[165,78],"./ion-toast-ios.entry.js":[166,30],"./ion-toast-md.entry.js":[167,31],"./ion-toggle-ios.entry.js":[168,22],"./ion-toggle-md.entry.js":[169,23],"./ion-virtual-scroll.entry.js":[170,90]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=66,e.exports=a},67:function(e,t,n){var r={"./ion-icon.entry.js":[174,98]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=67,e.exports=a},85:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(24),i=n.n(o),l=n(12),s=n(1),c=n(54),u=n(16),m=n(57),d=n(58),y="",f="",g="",h=function(){y=window.localStorage.getItem("key")?window.localStorage.getItem("key"):"",f=window.localStorage.getItem("secret")?window.localStorage.getItem("secret"):"",g=window.localStorage.getItem("uid")?window.localStorage.getItem("uid"):""};h();function j(e,t){return new Promise((function(n,r){(function(e){var t={Authorization:'OAuth oauth_consumer_key="'.concat(y,'",oauth_signature_method="PLAINTEXT",oauth_timestamp="').concat(Date.now()/1e3,'",oauth_nonce="').concat(Object(d.v4)(),'",oauth_version="1.0",oauth_signature="').concat(f,'%26"')};return fetch("https://cors-anywhere.herokuapp.com/api.schoology.com/v1/"+e,{method:"GET",headers:t})})(e).then((function(e){200!==e.status&&r("Status not 200"),e.json().then((function(e){e?(t(e,n,r),window.localStorage.setItem("verified","true")):r("Invalid Credentials")})).catch((function(e){console.log(e),r(e)}))})).catch((function(e){console.log(e),r(e)}))}))}var v=function(e){return e>92.44?"A":e>89.44?"A-":e>86.44?"B+":e>82.44?"B":e>79.44?"B-":e>76.44?"C+":e>72.44?"C":e>69.44?"C-":e>66.44?"D+":e>62.44?"D":e>59.44?"D-":"F"},p=[],b=function(){return new Promise((function(e,t){j("users/"+g+"/sections",(function(e,t,n){t(e.section.map((function(e){return{id:e.id,name:e.course_title,gp:e.grading_periods,image:e.profile_url}})))})).then((function(t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=t[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var s=i.value,c=!0,u=!1,m=void 0;try{for(var d,y=s.gp[Symbol.iterator]();!(c=(d=y.next()).done);c=!0){var f=d.value;0===f||f in n||n.push(f)}}catch(h){u=!0,m=h}finally{try{c||null==y.return||y.return()}finally{if(u)throw m}}}}catch(h){a=!0,o=h}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}j("users/"+g+"/grades?grading_period_ids="+n,(function(n,r,a){p=n.section;var o=0,i=!0,l=!1,s=void 0;try{for(var c,u=p[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var m=c.value,d=Math.abs(m.section_id-t[0].id),y=0,f=0,g=!0,j=!1,v=void 0;try{for(var b,_=t[Symbol.iterator]();!(g=(b=_.next()).done);g=!0){var E=b.value,w=Math.abs(m.section_id-E.id);w<d&&(d=w,y=f),f++}}catch(h){j=!0,v=h}finally{try{g||null==_.return||_.return()}finally{if(j)throw v}}p[o].section_id=t[y].id,p[o].name=t[y].name,p[o].image=t[y].image,o++}}catch(h){l=!0,s=h}finally{try{i||null==u.return||u.return()}finally{if(l)throw s}}e(),r()}))})).catch((function(e){return t(e)}))}))},_=function(e){var t="",n=!0,r=!1,a=void 0;try{for(var o,i=e.split(" ")[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var l=o.value,s="";if(l.length>3){var c=0,u=!0,m=!1,d=void 0;try{for(var y,f=l.split("")[Symbol.iterator]();!(u=(y=f.next()).done);u=!0){var g=y.value;s+=0===c?g.toUpperCase():g.toLowerCase(),c++}}catch(h){m=!0,d=h}finally{try{u||null==f.return||f.return()}finally{if(m)throw d}}}else s=l;t+=s+" "}}catch(h){r=!0,a=h}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}return t},E=function(e){return j("/sections/"+e+"/assignments?start=0&limit=10000",(function(t,n,r){var a=[],o={},i=!0,l=!1,s=void 0;try{for(var c,u=p[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var d=c.value;if(d.section_id===e){a=(o=d).grading_category;var y=!0,f=!1,g=void 0;try{for(var h,j=o.final_grade[0].grading_category[Symbol.iterator]();!(y=(h=j.next()).done);y=!0){var v=h.value,b=0,_=!0,E=!1,w=void 0;try{for(var k,S=a[Symbol.iterator]();!(_=(k=S.next()).done);_=!0){k.value.id===v.category_id&&(a[b].grade=v.grade,a[b].assignments=[]),b++}}catch(K){E=!0,w=K}finally{try{_||null==S.return||S.return()}finally{if(E)throw w}}}}catch(K){f=!0,g=K}finally{try{y||null==j.return||j.return()}finally{if(f)throw g}}break}}}catch(K){l=!0,s=K}finally{try{i||null==u.return||u.return()}finally{if(l)throw s}}var O=!0,x=!1,I=void 0;try{for(var C,D=t.assignment[Symbol.iterator]();!(O=(C=D.next()).done);O=!0){var N=C.value,L=!0,M=!1,P=void 0;try{for(var T,U=o.period[0].assignment[Symbol.iterator]();!(L=(T=U.next()).done);L=!0){var A=T.value;if(A.assignment_id===N.id){var B=Object(m.a)({},A,{},N),F=0,W=!0,q=!1,G=void 0;try{for(var J,z=a[Symbol.iterator]();!(W=(J=z.next()).done);W=!0){J.value.id===Number(B.grading_category)&&a[F].assignments.push(B),F++}}catch(K){q=!0,G=K}finally{try{W||null==z.return||z.return()}finally{if(q)throw G}}}}}catch(K){M=!0,P=K}finally{try{L||null==U.return||U.return()}finally{if(M)throw P}}}}catch(K){x=!0,I=K}finally{try{O||null==D.return||D.return()}finally{if(x)throw I}}n(a)}))},w=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],o=t[1];return Object(r.useEffect)((function(){n.length<1&&b().then((function(){o(function(){var e=[],t=!0,n=!1,r=void 0;try{for(var a,o=p[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var i=a.value;i.final_grade[0].grade&&i.name&&e.push({grade:i.final_grade[0].grade,name:_(i.name),id:i.section_id,image:i.image})}}catch(l){n=!0,r=l}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return e}())}))})),a.a.createElement(s.p,null,a.a.createElement(s.h,null,a.a.createElement(s.u,null,a.a.createElement(s.t,null,"Classes")),n.length<1?a.a.createElement(s.q,{type:"indeterminate"}):null),a.a.createElement(s.g,{className:"ion-padding"},a.a.createElement(s.n,null,n.map((function(e,t){return a.a.createElement(s.k,{lines:"none",key:t,routerLink:"/home/section/"+e.name+"/"+e.id},a.a.createElement(s.s,{slot:"start"},a.a.createElement(s.i,{src:e.image})),a.a.createElement(s.l,null,e.name),a.a.createElement(s.o,{slot:"end"},a.a.createElement("b",null,v(e.grade),"\xa0"),"(",e.grade,"%)"))})))))},k=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),n=t[0],o=t[1],i=Object(r.useState)(""),c=Object(u.a)(i,2),m=c[0],d=c[1],y=Object(r.useState)(""),f=Object(u.a)(y,2),v=f[0],p=f[1],b=Object(r.useState)(!1),_=Object(u.a)(b,2),E=_[0],w=_[1],k=Object(r.useState)(!1),S=Object(u.a)(k,2),O=S[0],x=S[1],I=function(){console.log([n,m,v]),window.localStorage.setItem("key",n),window.localStorage.setItem("secret",m),window.localStorage.setItem("uid",v),h(),j("users/"+g,(function(e,t,n){e?t():n("Invalid Credentials")})).then((function(){return w(!0)})).catch()};return a.a.createElement(s.p,null,E?a.a.createElement(l.a,{to:"/home"}):null,a.a.createElement(s.b,{isOpen:O,header:"Error",message:"Those credentials didn't work. Please try again.",buttons:["Okay"],onDidDismiss:function(){return x(!1)}}),a.a.createElement(s.h,null,a.a.createElement(s.u,null,a.a.createElement(s.t,null,"Welcome to Gradeology!"))),a.a.createElement(s.g,{className:"ion-padding"},a.a.createElement(s.n,null,a.a.createElement(s.k,null,a.a.createElement(s.l,{position:"stacked"},"Key"),a.a.createElement(s.j,{onIonChange:function(e){return o(e.target.value)}})),a.a.createElement(s.k,null,a.a.createElement(s.l,{position:"stacked"},"Secret"),a.a.createElement(s.j,{onIonChange:function(e){return d(e.target.value)}})),a.a.createElement(s.k,null,a.a.createElement(s.l,{position:"stacked"},"User ID"),a.a.createElement(s.j,{onIonChange:function(e){return p(e.target.value)}})),a.a.createElement("br",null),a.a.createElement(s.e,{onClick:function(){return I()},expand:"full"},"Sign In"))))},S=(n(75),n(76),n(77),n(78),n(79),n(80),n(81),n(82),n(83),n(84),n(85),n(30)),O=n.n(S),x=function(e){var t=Object(r.useState)([]),n=Object(u.a)(t,2),o=n[0],i=n[1];Object(r.useEffect)((function(){p.length<1?b().then((function(){E(e.match.params.id).then((function(e){i(e)}))})):E(e.match.params.id).then((function(e){i(e)}))}));var l=function(e){var t,n,r="",o=0,i=a.a.createElement("b",null);return e.grade?(t=100*e.grade/Number(e.max_points),n=2,o=Number(Math.round(Number(String(t)+"e"+String(n)))+"e-"+n),i=a.a.createElement("b",null,v(o)),r+=e.grade):r+="*",r+="/"+e.max_points+" ("+o+"%)",a.a.createElement(s.o,{slot:"end"},i,"\xa0",r)},c=function(e){return O()(e.due).diff(O()(Date.now()))<0&&!e.grade};return a.a.createElement(s.p,null,a.a.createElement(s.h,null,a.a.createElement(s.u,null,a.a.createElement(s.t,null,e.match.params.name),a.a.createElement(s.f,{slot:"start"},a.a.createElement(s.d,null))),o.length<1?a.a.createElement(s.q,{type:"indeterminate"}):null),a.a.createElement(s.g,{className:"ion-padding"},o.map((function(e,t){return a.a.createElement(s.n,{key:t},a.a.createElement(s.k,null,a.a.createElement("b",null,e.title," (",e.weight,"%)")," ",e.grade?a.a.createElement(s.o,{slot:"end"},a.a.createElement("b",null,v(e.grade)," (",e.grade,"%)")):null),e.assignments.map((function(e,t){return a.a.createElement(s.k,{color:c(e)?"danger":"",lines:"none",key:t},e.title,l(e))})))}))))},I=window.matchMedia("(prefers-color-scheme: dark)");function C(e){document.body.classList.toggle("dark",e)}C(I.matches),I.addListener((function(e){return C(e.matches)})),Object(s.x)({mode:"ios"});var D=function(){return a.a.createElement(s.c,null,a.a.createElement(c.a,null,a.a.createElement(s.r,null,a.a.createElement(l.b,{path:"/home/section/:name/:id/",component:x,exact:!0}),a.a.createElement(l.b,{path:"/creds",component:k,exact:!0}),a.a.createElement(l.b,{path:"/home",component:w,exact:!0}),a.a.createElement(l.b,{exact:!0,path:"/",render:function(){return a.a.createElement(l.a,{to:window.localStorage.getItem("verified")?"/home":"/creds"})}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[60,9,10]]]);
//# sourceMappingURL=main.0c62a53e.chunk.js.map