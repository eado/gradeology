(this.webpackJsonpgradeology=this.webpackJsonpgradeology||[]).push([[8],{59:function(e,t,n){e.exports=n(85)},65:function(e,t,n){var r={"./ion-action-sheet-controller_8.entry.js":[91,43],"./ion-action-sheet-ios.entry.js":[92,44],"./ion-action-sheet-md.entry.js":[93,45],"./ion-alert-ios.entry.js":[94,24],"./ion-alert-md.entry.js":[95,25],"./ion-app_8-ios.entry.js":[96,11],"./ion-app_8-md.entry.js":[97,12],"./ion-avatar_3-ios.entry.js":[98,46],"./ion-avatar_3-md.entry.js":[99,47],"./ion-back-button-ios.entry.js":[100,48],"./ion-back-button-md.entry.js":[101,49],"./ion-backdrop-ios.entry.js":[102,81],"./ion-backdrop-md.entry.js":[103,82],"./ion-button_2-ios.entry.js":[104,50],"./ion-button_2-md.entry.js":[105,51],"./ion-card_5-ios.entry.js":[106,52],"./ion-card_5-md.entry.js":[107,53],"./ion-checkbox-ios.entry.js":[108,54],"./ion-checkbox-md.entry.js":[109,55],"./ion-chip-ios.entry.js":[110,56],"./ion-chip-md.entry.js":[111,57],"./ion-col_3.entry.js":[112,83],"./ion-datetime_3-ios.entry.js":[113,20],"./ion-datetime_3-md.entry.js":[114,21],"./ion-fab_3-ios.entry.js":[115,58],"./ion-fab_3-md.entry.js":[116,59],"./ion-img.entry.js":[117,84],"./ion-infinite-scroll_2-ios.entry.js":[118,39],"./ion-infinite-scroll_2-md.entry.js":[119,40],"./ion-input-ios.entry.js":[120,60],"./ion-input-md.entry.js":[121,61],"./ion-item-option_3-ios.entry.js":[122,62],"./ion-item-option_3-md.entry.js":[123,63],"./ion-item_8-ios.entry.js":[124,64],"./ion-item_8-md.entry.js":[125,65],"./ion-loading-ios.entry.js":[126,26],"./ion-loading-md.entry.js":[127,27],"./ion-menu_4-ios.entry.js":[128,18],"./ion-menu_4-md.entry.js":[129,19],"./ion-modal-ios.entry.js":[130,14],"./ion-modal-md.entry.js":[131,15],"./ion-nav_5.entry.js":[132,13],"./ion-popover-ios.entry.js":[133,16],"./ion-popover-md.entry.js":[134,17],"./ion-progress-bar-ios.entry.js":[135,66],"./ion-progress-bar-md.entry.js":[136,67],"./ion-radio_2-ios.entry.js":[137,32],"./ion-radio_2-md.entry.js":[138,33],"./ion-range-ios.entry.js":[139,68],"./ion-range-md.entry.js":[140,69],"./ion-refresher_2-ios.entry.js":[141,41],"./ion-refresher_2-md.entry.js":[142,42],"./ion-reorder_2-ios.entry.js":[143,37],"./ion-reorder_2-md.entry.js":[144,38],"./ion-ripple-effect.entry.js":[145,85],"./ion-route_4.entry.js":[146,70],"./ion-searchbar-ios.entry.js":[147,28],"./ion-searchbar-md.entry.js":[148,29],"./ion-segment_2-ios.entry.js":[149,71],"./ion-segment_2-md.entry.js":[150,72],"./ion-select_3-ios.entry.js":[151,34],"./ion-select_3-md.entry.js":[152,35],"./ion-slide_2-ios.entry.js":[153,86],"./ion-slide_2-md.entry.js":[154,87],"./ion-spinner.entry.js":[155,73],"./ion-split-pane-ios.entry.js":[156,88],"./ion-split-pane-md.entry.js":[157,89],"./ion-tab-bar_2-ios.entry.js":[158,74],"./ion-tab-bar_2-md.entry.js":[159,75],"./ion-tab_2.entry.js":[160,36],"./ion-text.entry.js":[161,76],"./ion-textarea-ios.entry.js":[162,77],"./ion-textarea-md.entry.js":[163,78],"./ion-toast-ios.entry.js":[164,30],"./ion-toast-md.entry.js":[165,31],"./ion-toggle-ios.entry.js":[166,22],"./ion-toggle-md.entry.js":[167,23],"./ion-virtual-scroll.entry.js":[168,90]};function o(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return n.e(t[1]).then((function(){return n(o)}))}o.keys=function(){return Object.keys(r)},o.id=65,e.exports=o},66:function(e,t,n){var r={"./ion-icon.entry.js":[172,98]};function o(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return n.e(t[1]).then((function(){return n(o)}))}o.keys=function(){return Object.keys(r)},o.id=66,e.exports=o},84:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(24),i=n.n(a),l=n(12),s=n(1),c=n(53),u=n(16),m=n(56),d=n(57),y="",f="",g="",h=function(){y=window.localStorage.getItem("key")?window.localStorage.getItem("key"):"",f=window.localStorage.getItem("secret")?window.localStorage.getItem("secret"):"",g=window.localStorage.getItem("uid")?window.localStorage.getItem("uid"):""};h();function j(e,t){return new Promise((function(n,r){(function(e){var t={Authorization:'OAuth oauth_consumer_key="'.concat(y,'",oauth_signature_method="PLAINTEXT",oauth_timestamp="').concat(Date.now()/1e3,'",oauth_nonce="').concat(Object(d.v4)(),'",oauth_version="1.0",oauth_signature="').concat(f,'%26"')};return fetch("https://cors-anywhere.herokuapp.com/api.schoology.com/v1/"+e,{method:"GET",headers:t})})(e).then((function(e){200!==e.status&&r("Status not 200"),e.json().then((function(e){e?(t(e,n,r),window.localStorage.setItem("verified","true")):r("Invalid Credentials")})).catch((function(e){console.log(e),r(e)}))})).catch((function(e){console.log(e),r(e)}))}))}var v=function(e){return e>92.44?"A":e>89.44?"A-":e>86.44?"B+":e>82.44?"B":e>79.44?"B-":e>76.44?"C+":e>72.44?"C":e>69.44?"C-":e>66.44?"D+":e>62.44?"D":e>59.44?"D-":"F"},p=[],b=function(){return new Promise((function(e,t){j("users/"+g+"/sections",(function(e,t,n){t(e.section.map((function(e){return{id:e.id,name:e.course_title,gp:e.grading_periods,image:e.profile_url}})))})).then((function(t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=t[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var s=i.value,c=!0,u=!1,m=void 0;try{for(var d,y=s.gp[Symbol.iterator]();!(c=(d=y.next()).done);c=!0){var f=d.value;0===f||f in n||n.push(f)}}catch(h){u=!0,m=h}finally{try{c||null==y.return||y.return()}finally{if(u)throw m}}}}catch(h){o=!0,a=h}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}j("users/"+g+"/grades?grading_period_ids="+n,(function(n,r,o){p=n.section;var a=0,i=!0,l=!1,s=void 0;try{for(var c,u=p[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var m=c.value,d=Math.abs(m.section_id-t[0].id),y=0,f=0,g=!0,j=!1,v=void 0;try{for(var b,_=t[Symbol.iterator]();!(g=(b=_.next()).done);g=!0){var E=b.value,w=Math.abs(m.section_id-E.id);w<d&&(d=w,y=f),f++}}catch(h){j=!0,v=h}finally{try{g||null==_.return||_.return()}finally{if(j)throw v}}p[a].section_id=t[y].id,p[a].name=t[y].name,p[a].image=t[y].image,a++}}catch(h){l=!0,s=h}finally{try{i||null==u.return||u.return()}finally{if(l)throw s}}e(),r()}))})).catch((function(e){return t(e)}))}))},_=function(e){var t="",n=!0,r=!1,o=void 0;try{for(var a,i=e.split(" ")[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var l=a.value,s="";if(l.length>3){var c=0,u=!0,m=!1,d=void 0;try{for(var y,f=l.split("")[Symbol.iterator]();!(u=(y=f.next()).done);u=!0){var g=y.value;s+=0===c?g.toUpperCase():g.toLowerCase(),c++}}catch(h){m=!0,d=h}finally{try{u||null==f.return||f.return()}finally{if(m)throw d}}}else s=l;t+=s+" "}}catch(h){r=!0,o=h}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return t},E=function(e){return j("/sections/"+e+"/assignments?start=0&limit=10000",(function(t,n,r){var o=[],a={},i=!0,l=!1,s=void 0;try{for(var c,u=p[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var d=c.value;if(d.section_id===e){o=(a=d).grading_category;var y=!0,f=!1,g=void 0;try{for(var h,j=a.final_grade[0].grading_category[Symbol.iterator]();!(y=(h=j.next()).done);y=!0){var v=h.value,b=0,_=!0,E=!1,w=void 0;try{for(var k,S=o[Symbol.iterator]();!(_=(k=S.next()).done);_=!0){k.value.id===v.category_id&&(o[b].grade=v.grade,o[b].assignments=[]),b++}}catch(X){E=!0,w=X}finally{try{_||null==S.return||S.return()}finally{if(E)throw w}}}}catch(X){f=!0,g=X}finally{try{y||null==j.return||j.return()}finally{if(f)throw g}}break}}}catch(X){l=!0,s=X}finally{try{i||null==u.return||u.return()}finally{if(l)throw s}}var O=!0,x=!1,I=void 0;try{for(var C,N=t.assignment[Symbol.iterator]();!(O=(C=N.next()).done);O=!0){var D=C.value,L=!0,M=!1,P=void 0;try{for(var T,U=a.period[0].assignment[Symbol.iterator]();!(L=(T=U.next()).done);L=!0){var A=T.value;if(A.assignment_id===D.id){console.log("afound");var B=Object(m.a)({},A,{},D);console.log(B);var F=0,W=!0,q=!1,G=void 0;try{for(var J,z=o[Symbol.iterator]();!(W=(J=z.next()).done);W=!0){var K=J.value;console.log(K.id),K.id===Number(B.grading_category)&&o[F].assignments.push(B),F++}}catch(X){q=!0,G=X}finally{try{W||null==z.return||z.return()}finally{if(q)throw G}}}}}catch(X){M=!0,P=X}finally{try{L||null==U.return||U.return()}finally{if(M)throw P}}}}catch(X){x=!0,I=X}finally{try{O||null==N.return||N.return()}finally{if(x)throw I}}n(o)}))},w=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){n.length<1&&b().then((function(){a(function(){var e=[],t=!0,n=!1,r=void 0;try{for(var o,a=p[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i=o.value;i.final_grade[0].grade&&i.name&&e.push({grade:i.final_grade[0].grade,name:_(i.name),id:i.section_id,image:i.image})}}catch(l){n=!0,r=l}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e}())}))})),o.a.createElement(s.p,null,o.a.createElement(s.h,null,o.a.createElement(s.u,null,o.a.createElement(s.t,null,"Classes")),n.length<1?o.a.createElement(s.q,{type:"indeterminate"}):null),o.a.createElement(s.g,{className:"ion-padding"},o.a.createElement(s.n,null,n.map((function(e,t){return o.a.createElement(s.k,{lines:"none",key:t,routerLink:"/home/section/"+e.name+"/"+e.id},o.a.createElement(s.s,{slot:"start"},o.a.createElement(s.i,{src:e.image})),o.a.createElement(s.l,null,e.name),o.a.createElement(s.o,{slot:"end"},o.a.createElement("b",null,v(e.grade),"\xa0"),"(",e.grade,"%)"))})))))},k=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(""),c=Object(u.a)(i,2),m=c[0],d=c[1],y=Object(r.useState)(""),f=Object(u.a)(y,2),v=f[0],p=f[1],b=Object(r.useState)(!1),_=Object(u.a)(b,2),E=_[0],w=_[1],k=Object(r.useState)(!1),S=Object(u.a)(k,2),O=S[0],x=S[1],I=function(){console.log([n,m,v]),window.localStorage.setItem("key",n),window.localStorage.setItem("secret",m),window.localStorage.setItem("uid",v),h(),j("users/"+g,(function(e,t,n){e?t():n("Invalid Credentials")})).then((function(){return w(!0)})).catch()};return o.a.createElement(s.p,null,E?o.a.createElement(l.a,{to:"/home"}):null,o.a.createElement(s.b,{isOpen:O,header:"Error",message:"Those credentials didn't work. Please try again.",buttons:["Okay"],onDidDismiss:function(){return x(!1)}}),o.a.createElement(s.h,null,o.a.createElement(s.u,null,o.a.createElement(s.t,null,"Welcome to Gradeology!"))),o.a.createElement(s.g,{className:"ion-padding"},o.a.createElement(s.n,null,o.a.createElement(s.k,null,o.a.createElement(s.l,{position:"stacked"},"Key"),o.a.createElement(s.j,{onIonChange:function(e){return a(e.target.value)}})),o.a.createElement(s.k,null,o.a.createElement(s.l,{position:"stacked"},"Secret"),o.a.createElement(s.j,{onIonChange:function(e){return d(e.target.value)}})),o.a.createElement(s.k,null,o.a.createElement(s.l,{position:"stacked"},"User ID"),o.a.createElement(s.j,{onIonChange:function(e){return p(e.target.value)}})),o.a.createElement("br",null),o.a.createElement(s.e,{onClick:function(){return I()},expand:"full"},"Sign In"))))},S=(n(74),n(75),n(76),n(77),n(78),n(79),n(80),n(81),n(82),n(83),n(84),function(e){var t=Object(r.useState)([]),n=Object(u.a)(t,2),a=n[0],i=n[1];Object(r.useEffect)((function(){p.length<1?b().then((function(){E(e.match.params.id).then((function(e){i(e)}))})):E(e.match.params.id).then((function(e){i(e)}))}));var l=function(e){var t,n,r="",a=0,i=o.a.createElement("b",null);return e.grade?(t=100*e.grade/Number(e.max_points),n=2,a=Number(Math.round(Number(String(t)+"e"+String(n)))+"e-"+n),i=o.a.createElement("b",null,v(a)),r+=e.grade):r+="*",r+="/"+e.max_points+" ("+a+"%)",o.a.createElement(s.o,{slot:"end"},i,"\xa0",r)};return o.a.createElement(s.p,null,o.a.createElement(s.h,null,o.a.createElement(s.u,null,o.a.createElement(s.t,null,e.match.params.name),o.a.createElement(s.f,{slot:"start"},o.a.createElement(s.d,null))),a.length<1?o.a.createElement(s.q,{type:"indeterminate"}):null),o.a.createElement(s.g,{className:"ion-padding"},a.map((function(e,t){return o.a.createElement(s.n,{key:t},o.a.createElement(s.k,null,o.a.createElement("b",null,e.title," (",e.weight,"%)")," ",e.grade?o.a.createElement(s.o,{slot:"end"},o.a.createElement("b",null,v(e.grade)," (",e.grade,"%)")):null),e.assignments.map((function(e,t){return o.a.createElement(s.k,{lines:"none",key:t},e.title,l(e))})))}))))}),O=window.matchMedia("(prefers-color-scheme: dark)");function x(e){document.body.classList.toggle("dark",e)}x(O.matches),O.addListener((function(e){return x(e.matches)})),Object(s.x)({mode:"ios"});var I=function(){return o.a.createElement(s.c,null,o.a.createElement(c.a,null,o.a.createElement(s.r,null,o.a.createElement(l.b,{path:"/home/section/:name/:id/",component:S,exact:!0}),o.a.createElement(l.b,{path:"/creds",component:k,exact:!0}),o.a.createElement(l.b,{path:"/home",component:w,exact:!0}),o.a.createElement(l.b,{exact:!0,path:"/",render:function(){return o.a.createElement(l.a,{to:window.localStorage.getItem("verified")?"/home":"/creds"})}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[59,9,10]]]);
//# sourceMappingURL=main.7b6c1610.chunk.js.map