(this.webpackJsonpgradeology=this.webpackJsonpgradeology||[]).push([[8],{57:function(e,n,t){e.exports=t(83)},63:function(e,n,t){var r={"./ion-action-sheet-controller_8.entry.js":[89,43],"./ion-action-sheet-ios.entry.js":[90,44],"./ion-action-sheet-md.entry.js":[91,45],"./ion-alert-ios.entry.js":[92,24],"./ion-alert-md.entry.js":[93,25],"./ion-app_8-ios.entry.js":[94,11],"./ion-app_8-md.entry.js":[95,12],"./ion-avatar_3-ios.entry.js":[96,46],"./ion-avatar_3-md.entry.js":[97,47],"./ion-back-button-ios.entry.js":[98,48],"./ion-back-button-md.entry.js":[99,49],"./ion-backdrop-ios.entry.js":[100,81],"./ion-backdrop-md.entry.js":[101,82],"./ion-button_2-ios.entry.js":[102,50],"./ion-button_2-md.entry.js":[103,51],"./ion-card_5-ios.entry.js":[104,52],"./ion-card_5-md.entry.js":[105,53],"./ion-checkbox-ios.entry.js":[106,54],"./ion-checkbox-md.entry.js":[107,55],"./ion-chip-ios.entry.js":[108,56],"./ion-chip-md.entry.js":[109,57],"./ion-col_3.entry.js":[110,83],"./ion-datetime_3-ios.entry.js":[111,20],"./ion-datetime_3-md.entry.js":[112,21],"./ion-fab_3-ios.entry.js":[113,58],"./ion-fab_3-md.entry.js":[114,59],"./ion-img.entry.js":[115,84],"./ion-infinite-scroll_2-ios.entry.js":[116,39],"./ion-infinite-scroll_2-md.entry.js":[117,40],"./ion-input-ios.entry.js":[118,60],"./ion-input-md.entry.js":[119,61],"./ion-item-option_3-ios.entry.js":[120,62],"./ion-item-option_3-md.entry.js":[121,63],"./ion-item_8-ios.entry.js":[122,64],"./ion-item_8-md.entry.js":[123,65],"./ion-loading-ios.entry.js":[124,26],"./ion-loading-md.entry.js":[125,27],"./ion-menu_4-ios.entry.js":[126,18],"./ion-menu_4-md.entry.js":[127,19],"./ion-modal-ios.entry.js":[128,14],"./ion-modal-md.entry.js":[129,15],"./ion-nav_5.entry.js":[130,13],"./ion-popover-ios.entry.js":[131,16],"./ion-popover-md.entry.js":[132,17],"./ion-progress-bar-ios.entry.js":[133,66],"./ion-progress-bar-md.entry.js":[134,67],"./ion-radio_2-ios.entry.js":[135,32],"./ion-radio_2-md.entry.js":[136,33],"./ion-range-ios.entry.js":[137,68],"./ion-range-md.entry.js":[138,69],"./ion-refresher_2-ios.entry.js":[139,41],"./ion-refresher_2-md.entry.js":[140,42],"./ion-reorder_2-ios.entry.js":[141,37],"./ion-reorder_2-md.entry.js":[142,38],"./ion-ripple-effect.entry.js":[143,85],"./ion-route_4.entry.js":[144,70],"./ion-searchbar-ios.entry.js":[145,28],"./ion-searchbar-md.entry.js":[146,29],"./ion-segment_2-ios.entry.js":[147,71],"./ion-segment_2-md.entry.js":[148,72],"./ion-select_3-ios.entry.js":[149,34],"./ion-select_3-md.entry.js":[150,35],"./ion-slide_2-ios.entry.js":[151,86],"./ion-slide_2-md.entry.js":[152,87],"./ion-spinner.entry.js":[153,73],"./ion-split-pane-ios.entry.js":[154,88],"./ion-split-pane-md.entry.js":[155,89],"./ion-tab-bar_2-ios.entry.js":[156,74],"./ion-tab-bar_2-md.entry.js":[157,75],"./ion-tab_2.entry.js":[158,36],"./ion-text.entry.js":[159,76],"./ion-textarea-ios.entry.js":[160,77],"./ion-textarea-md.entry.js":[161,78],"./ion-toast-ios.entry.js":[162,30],"./ion-toast-md.entry.js":[163,31],"./ion-toggle-ios.entry.js":[164,22],"./ion-toggle-md.entry.js":[165,23],"./ion-virtual-scroll.entry.js":[166,90]};function o(e){if(!t.o(r,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],o=n[0];return t.e(n[1]).then((function(){return t(o)}))}o.keys=function(){return Object.keys(r)},o.id=63,e.exports=o},64:function(e,n,t){var r={"./ion-icon.entry.js":[170,98]};function o(e){if(!t.o(r,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],o=n[0];return t.e(n[1]).then((function(){return t(o)}))}o.keys=function(){return Object.keys(r)},o.id=64,e.exports=o},82:function(e,n,t){},83:function(e,n,t){"use strict";t.r(n);var r=t(0),o=t.n(r),a=t(23),i=t.n(a),s=t(12),l=t(2),c=t(52),u=t(19),d=t(55),m="",y="",f="",j=function(){m=window.localStorage.getItem("key")?window.localStorage.getItem("key"):"",y=window.localStorage.getItem("secret")?window.localStorage.getItem("secret"):"",f=window.localStorage.getItem("uid")?window.localStorage.getItem("uid"):""};j();function h(e,n){return new Promise((function(t,r){(function(e){var n={Authorization:'OAuth oauth_consumer_key="'.concat(m,'",oauth_signature_method="PLAINTEXT",oauth_timestamp="').concat(Date.now()/1e3,'",oauth_nonce="').concat(Object(d.v4)(),'",oauth_version="1.0",oauth_signature="').concat(y,'%26"')};return fetch("https://cors-anywhere.herokuapp.com/api.schoology.com/v1/"+e,{method:"GET",headers:n})})(e).then((function(e){200!==e.status&&r("Status not 200"),e.json().then((function(e){e?(n(e,t,r),window.localStorage.setItem("verified","true")):r("Invalid Credentials")})).catch((function(e){console.log(e),r(e)}))})).catch((function(e){console.log(e),r(e)}))}))}var g=[],v=function(){return new Promise((function(e,n){h("users/"+f+"/sections",(function(e,n,t){n(e.section.map((function(e){return{id:e.id,name:e.course_title,gp:e.grading_periods}})))})).then((function(n){var t=[],r=!0,o=!1,a=void 0;try{for(var i,s=n[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var l=i.value,c=!0,u=!1,d=void 0;try{for(var m,y=l.gp[Symbol.iterator]();!(c=(m=y.next()).done);c=!0){var j=m.value;0===j||j in t||(console.log(j),t.push(j))}}catch(v){u=!0,d=v}finally{try{c||null==y.return||y.return()}finally{if(u)throw d}}}}catch(v){o=!0,a=v}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}h("users/"+f+"/grades?grading_period_ids="+t,(function(t,r,o){console.log(t),g=t.section;var a=0,i=!0,s=!1,l=void 0;try{for(var c,u=g[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var d=c.value,m=Math.abs(d.section_id-n[0].id),y=0,f=0,j=!0,h=!1,p=void 0;try{for(var _,b=n[Symbol.iterator]();!(j=(_=b.next()).done);j=!0){var w=_.value,E=Math.abs(d.section_id-w.id);E<m&&(m=E,y=f),f++}}catch(v){h=!0,p=v}finally{try{j||null==b.return||b.return()}finally{if(h)throw p}}g[a].name=n[y].name,a++}}catch(v){s=!0,l=v}finally{try{i||null==u.return||u.return()}finally{if(s)throw l}}e(),r()}))})).catch((function(e){return n(e)}))}))},p=function(e){var n="",t=!0,r=!1,o=void 0;try{for(var a,i=e.split(" ")[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var s=a.value,l="";if(s.length>3){var c=0,u=!0,d=!1,m=void 0;try{for(var y,f=s.split("")[Symbol.iterator]();!(u=(y=f.next()).done);u=!0){var j=y.value;l+=0===c?j.toUpperCase():j.toLowerCase(),c++}}catch(h){d=!0,m=h}finally{try{u||null==f.return||f.return()}finally{if(d)throw m}}}else l=s;n+=l+" "}}catch(h){r=!0,o=h}finally{try{t||null==i.return||i.return()}finally{if(r)throw o}}return n},_=function(){var e=Object(r.useState)([]),n=Object(u.a)(e,2),t=n[0],a=n[1];return Object(r.useEffect)((function(){t.length<1&&v().then((function(){a(function(){var e=[],n=!0,t=!1,r=void 0;try{for(var o,a=g[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var i=o.value;i.final_grade[0].grade&&i.name&&e.push({grade:i.final_grade[0].grade,name:p(i.name)})}}catch(s){t=!0,r=s}finally{try{n||null==a.return||a.return()}finally{if(t)throw r}}return e}())}))})),o.a.createElement(l.m,null,o.a.createElement(l.f,null,o.a.createElement(l.q,null,o.a.createElement(l.p,null,"Grades")),t.length<1?o.a.createElement(l.n,{type:"indeterminate"}):null),o.a.createElement(l.e,{className:"ion-padding"},o.a.createElement(l.k,null,t.map((function(e,n){return o.a.createElement(l.h,{key:n},e.name,o.a.createElement(l.l,{slot:"end"},o.a.createElement("b",null,(t=e.grade)>92.44?"A":t>89.44?"A-":t>86.44?"B+":t>82.44?"B":t>79.44?"B-":t>76.44?"C+":t>72.44?"C":t>69.44?"C-":t>66.44?"D+":t>62.44?"D":t>59.44?"D-":"F","\xa0"),e.grade));var t})))))},b=function(){var e=Object(r.useState)(""),n=Object(u.a)(e,2),t=n[0],a=n[1],i=Object(r.useState)(""),c=Object(u.a)(i,2),d=c[0],m=c[1],y=Object(r.useState)(""),g=Object(u.a)(y,2),v=g[0],p=g[1],_=Object(r.useState)(!1),b=Object(u.a)(_,2),w=b[0],E=b[1],k=Object(r.useState)(!1),S=Object(u.a)(k,2),O=S[0],I=S[1],x=function(){console.log([t,d,v]),window.localStorage.setItem("key",t),window.localStorage.setItem("secret",d),window.localStorage.setItem("uid",v),j(),h("users/"+f,(function(e,n,t){e?n():t("Invalid Credentials")})).then((function(){return E(!0)})).catch()};return o.a.createElement(l.m,null,w?o.a.createElement(s.a,{to:"/home"}):null,o.a.createElement(l.b,{isOpen:O,header:"Error",message:"Those credentials didn't work. Please try again.",buttons:["Okay"],onDidDismiss:function(){return I(!1)}}),o.a.createElement(l.f,null,o.a.createElement(l.q,null,o.a.createElement(l.p,null,"Welcome to Gradeology!"))),o.a.createElement(l.e,{className:"ion-padding"},o.a.createElement(l.k,null,o.a.createElement(l.h,null,o.a.createElement(l.i,{position:"stacked"},"Key"),o.a.createElement(l.g,{onIonChange:function(e){return a(e.target.value)}})),o.a.createElement(l.h,null,o.a.createElement(l.i,{position:"stacked"},"Secret"),o.a.createElement(l.g,{onIonChange:function(e){return m(e.target.value)}})),o.a.createElement(l.h,null,o.a.createElement(l.i,{position:"stacked"},"User ID"),o.a.createElement(l.g,{onIonChange:function(e){return p(e.target.value)}})),o.a.createElement("br",null),o.a.createElement(l.d,{onClick:function(){return x()},expand:"full"},"Sign In"))))},w=(t(72),t(73),t(74),t(75),t(76),t(77),t(78),t(79),t(80),t(81),t(82),window.matchMedia("(prefers-color-scheme: dark)"));function E(e){document.body.classList.toggle("dark",e)}E(w.matches),w.addListener((function(e){return E(e.matches)})),Object(l.t)({mode:"ios"});var k=function(){return o.a.createElement(l.c,null,o.a.createElement(c.a,null,o.a.createElement(l.o,null,o.a.createElement(s.b,{path:"/creds",component:b,exact:!0}),o.a.createElement(s.b,{path:"/home",component:_,exact:!0}),o.a.createElement(s.b,{exact:!0,path:"/",render:function(){return o.a.createElement(s.a,{to:window.localStorage.getItem("verified")?"/home":"/creds"})}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[57,9,10]]]);
//# sourceMappingURL=main.c1e5690d.chunk.js.map