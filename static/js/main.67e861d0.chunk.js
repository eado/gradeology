(this.webpackJsonpgradeology=this.webpackJsonpgradeology||[]).push([[8],{60:function(e,t,n){e.exports=n(87)},66:function(e,t,n){var r={"./ion-action-sheet-controller_8.entry.js":[93,43],"./ion-action-sheet-ios.entry.js":[94,44],"./ion-action-sheet-md.entry.js":[95,45],"./ion-alert-ios.entry.js":[96,24],"./ion-alert-md.entry.js":[97,25],"./ion-app_8-ios.entry.js":[98,11],"./ion-app_8-md.entry.js":[99,12],"./ion-avatar_3-ios.entry.js":[100,46],"./ion-avatar_3-md.entry.js":[101,47],"./ion-back-button-ios.entry.js":[102,48],"./ion-back-button-md.entry.js":[103,49],"./ion-backdrop-ios.entry.js":[104,81],"./ion-backdrop-md.entry.js":[105,82],"./ion-button_2-ios.entry.js":[106,50],"./ion-button_2-md.entry.js":[107,51],"./ion-card_5-ios.entry.js":[108,52],"./ion-card_5-md.entry.js":[109,53],"./ion-checkbox-ios.entry.js":[110,54],"./ion-checkbox-md.entry.js":[111,55],"./ion-chip-ios.entry.js":[112,56],"./ion-chip-md.entry.js":[113,57],"./ion-col_3.entry.js":[114,83],"./ion-datetime_3-ios.entry.js":[115,20],"./ion-datetime_3-md.entry.js":[116,21],"./ion-fab_3-ios.entry.js":[117,58],"./ion-fab_3-md.entry.js":[118,59],"./ion-img.entry.js":[119,84],"./ion-infinite-scroll_2-ios.entry.js":[120,39],"./ion-infinite-scroll_2-md.entry.js":[121,40],"./ion-input-ios.entry.js":[122,60],"./ion-input-md.entry.js":[123,61],"./ion-item-option_3-ios.entry.js":[124,62],"./ion-item-option_3-md.entry.js":[125,63],"./ion-item_8-ios.entry.js":[126,64],"./ion-item_8-md.entry.js":[127,65],"./ion-loading-ios.entry.js":[128,26],"./ion-loading-md.entry.js":[129,27],"./ion-menu_4-ios.entry.js":[130,18],"./ion-menu_4-md.entry.js":[131,19],"./ion-modal-ios.entry.js":[132,14],"./ion-modal-md.entry.js":[133,15],"./ion-nav_5.entry.js":[134,13],"./ion-popover-ios.entry.js":[135,16],"./ion-popover-md.entry.js":[136,17],"./ion-progress-bar-ios.entry.js":[137,66],"./ion-progress-bar-md.entry.js":[138,67],"./ion-radio_2-ios.entry.js":[139,32],"./ion-radio_2-md.entry.js":[140,33],"./ion-range-ios.entry.js":[141,68],"./ion-range-md.entry.js":[142,69],"./ion-refresher_2-ios.entry.js":[143,41],"./ion-refresher_2-md.entry.js":[144,42],"./ion-reorder_2-ios.entry.js":[145,37],"./ion-reorder_2-md.entry.js":[146,38],"./ion-ripple-effect.entry.js":[147,85],"./ion-route_4.entry.js":[148,70],"./ion-searchbar-ios.entry.js":[149,28],"./ion-searchbar-md.entry.js":[150,29],"./ion-segment_2-ios.entry.js":[151,71],"./ion-segment_2-md.entry.js":[152,72],"./ion-select_3-ios.entry.js":[153,34],"./ion-select_3-md.entry.js":[154,35],"./ion-slide_2-ios.entry.js":[155,86],"./ion-slide_2-md.entry.js":[156,87],"./ion-spinner.entry.js":[157,73],"./ion-split-pane-ios.entry.js":[158,88],"./ion-split-pane-md.entry.js":[159,89],"./ion-tab-bar_2-ios.entry.js":[160,74],"./ion-tab-bar_2-md.entry.js":[161,75],"./ion-tab_2.entry.js":[162,36],"./ion-text.entry.js":[163,76],"./ion-textarea-ios.entry.js":[164,77],"./ion-textarea-md.entry.js":[165,78],"./ion-toast-ios.entry.js":[166,30],"./ion-toast-md.entry.js":[167,31],"./ion-toggle-ios.entry.js":[168,22],"./ion-toggle-md.entry.js":[169,23],"./ion-virtual-scroll.entry.js":[170,90]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=66,e.exports=a},67:function(e,t,n){var r={"./ion-icon.entry.js":[174,98]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=67,e.exports=a},86:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(24),i=n.n(o),l=n(12),s=n(1),c=n(54),u=n(16),m=n(57),d=n(58),y=n(30),f=n.n(y),g=function(e,t){return Number(Math.round(Number(String(e)+"e"+String(t)))+"e-"+t)},h=function(e){var t=Object(r.useState)([]),n=Object(u.a)(t,2),o=n[0],i=n[1];Object(r.useEffect)((function(){w.length<1?k().then((function(){x(e.match.params.id).then((function(e){i(e)}))})):x(e.match.params.id).then((function(e){i(e)}))}));var l=function(e){var t="",n=0,r="";return e.grade?(n=g(100*e.grade/Number(e.max_points),2),r=_(n),t+=e.grade):t+="*",[r,t+="/"+e.max_points+" ("+n+"%)"]};return a.a.createElement(s.p,null,a.a.createElement(s.h,null,a.a.createElement(s.u,null,a.a.createElement(s.t,null,e.match.params.name),a.a.createElement(s.f,{slot:"start"},a.a.createElement(s.d,null))),o.length<1?a.a.createElement(s.q,{type:"indeterminate"}):null),a.a.createElement(s.g,{className:"ion-padding"},o.map((function(e,t){return a.a.createElement(s.n,{key:t},a.a.createElement(s.k,null,a.a.createElement("b",null,e.title," (",e.weight,"%)")," ",e.grade?a.a.createElement(s.o,{slot:"end"},a.a.createElement("b",null,_(e.grade)," ",e.points,"/",e.totalPoints," (",e.grade,"%) ")):null),e.assignments.map((function(e,t){return a.a.createElement(s.k,{lines:"none",key:t},function(e){return f()(e.due).diff(f()(Date.now()))<0&&!e.grade}(e)?a.a.createElement(a.a.Fragment,null,a.a.createElement("i",null,e.title),a.a.createElement(s.o,{slot:"end"},a.a.createElement("i",null,a.a.createElement("b",null,l(e)[0])," ",l(e)[1]))):a.a.createElement(a.a.Fragment,null,e.title,a.a.createElement(s.o,{slot:"end"},a.a.createElement("b",null,l(e)[0])," ",l(e)[1])))})))}))))},j="",v="",p="",b=function(){j=window.localStorage.getItem("key")?window.localStorage.getItem("key"):"",v=window.localStorage.getItem("secret")?window.localStorage.getItem("secret"):"",p=window.localStorage.getItem("uid")?window.localStorage.getItem("uid"):""};b();function E(e,t){return new Promise((function(n,r){(function(e){var t={Authorization:'OAuth oauth_consumer_key="'.concat(j,'",oauth_signature_method="PLAINTEXT",oauth_timestamp="').concat(Date.now()/1e3,'",oauth_nonce="').concat(Object(d.v4)(),'",oauth_version="1.0",oauth_signature="').concat(v,'%26"')};return fetch("https://cors-anywhere.herokuapp.com/api.schoology.com/v1/"+e,{method:"GET",headers:t})})(e).then((function(e){200!==e.status&&r("Status not 200"),e.json().then((function(e){e?(t(e,n,r),window.localStorage.setItem("verified","true")):r("Invalid Credentials")})).catch((function(e){console.log(e),r(e)}))})).catch((function(e){console.log(e),r(e)}))}))}var _=function(e){return e>92.44?"A":e>89.44?"A-":e>86.44?"B+":e>82.44?"B":e>79.44?"B-":e>76.44?"C+":e>72.44?"C":e>69.44?"C-":e>66.44?"D+":e>62.44?"D":e>59.44?"D-":"F"},w=[],k=function(){return new Promise((function(e,t){E("users/"+p+"/sections",(function(e,t,n){t(e.section.map((function(e){return{id:e.id,name:e.course_title,gp:e.grading_periods,image:e.profile_url}})))})).then((function(t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=t[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var s=i.value,c=!0,u=!1,m=void 0;try{for(var d,y=s.gp[Symbol.iterator]();!(c=(d=y.next()).done);c=!0){var f=d.value;0===f||f in n||n.push(f)}}catch(g){u=!0,m=g}finally{try{c||null==y.return||y.return()}finally{if(u)throw m}}}}catch(g){a=!0,o=g}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}E("users/"+p+"/grades?grading_period_ids="+n,(function(n,r,a){w=n.section;var o=0,i=!0,l=!1,s=void 0;try{for(var c,u=w[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var m=c.value,d=Math.abs(m.section_id-t[0].id),y=0,f=0,h=!0,j=!1,v=void 0;try{for(var p,b=t[Symbol.iterator]();!(h=(p=b.next()).done);h=!0){var E=p.value,_=Math.abs(m.section_id-E.id);_<d&&(d=_,y=f),f++}}catch(g){j=!0,v=g}finally{try{h||null==b.return||b.return()}finally{if(j)throw v}}w[o].section_id=t[y].id,w[o].name=t[y].name,w[o].image=t[y].image,o++}}catch(g){l=!0,s=g}finally{try{i||null==u.return||u.return()}finally{if(l)throw s}}e(),r()}))})).catch((function(e){return t(e)}))}))},S=function(e){var t="",n=!0,r=!1,a=void 0;try{for(var o,i=e.split(" ")[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var l=o.value,s="";if(l.length>3){var c=0,u=!0,m=!1,d=void 0;try{for(var y,f=l.split("")[Symbol.iterator]();!(u=(y=f.next()).done);u=!0){var g=y.value;s+=0===c?g.toUpperCase():g.toLowerCase(),c++}}catch(h){m=!0,d=h}finally{try{u||null==f.return||f.return()}finally{if(m)throw d}}}else s=l;t+=s+" "}}catch(h){r=!0,a=h}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}return t},x=function(e){return E("/sections/"+e+"/assignments?start=0&limit=10000",(function(t,n,r){var a=[],o={},i=!0,l=!1,s=void 0;try{for(var c,u=w[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var d=c.value;if(d.section_id===e){a=(o=d).grading_category;var y=!0,f=!1,h=void 0;try{for(var j,v=o.final_grade[0].grading_category[Symbol.iterator]();!(y=(j=v.next()).done);y=!0){var p=j.value,b=0,E=!0,_=!1,k=void 0;try{for(var S,x=a[Symbol.iterator]();!(E=(S=x.next()).done);E=!0){S.value.id===p.category_id&&(a[b].grade=p.grade,a[b].assignments=[]),b++}}catch(X){_=!0,k=X}finally{try{E||null==x.return||x.return()}finally{if(_)throw k}}}}catch(X){f=!0,h=X}finally{try{y||null==v.return||v.return()}finally{if(f)throw h}}break}}}catch(X){l=!0,s=X}finally{try{i||null==u.return||u.return()}finally{if(l)throw s}}var O=!0,I=!1,C=void 0;try{for(var N,D=t.assignment[Symbol.iterator]();!(O=(N=D.next()).done);O=!0){var P=N.value,L=!0,M=!1,T=void 0;try{for(var U,A=o.period[0].assignment[Symbol.iterator]();!(L=(U=A.next()).done);L=!0){var B=U.value;if(B.assignment_id===P.id){var F=Object(m.a)({},B,{},P),W=0,q=!0,G=!1,J=void 0;try{for(var z,K=a[Symbol.iterator]();!(q=(z=K.next()).done);q=!0){z.value.id===Number(F.grading_category)&&a[W].assignments.push(F),W++}}catch(X){G=!0,J=X}finally{try{q||null==K.return||K.return()}finally{if(G)throw J}}}}}catch(X){M=!0,T=X}finally{try{L||null==A.return||A.return()}finally{if(M)throw T}}}}catch(X){I=!0,C=X}finally{try{O||null==D.return||D.return()}finally{if(I)throw C}}a.forEach((function(e,t){var n=0,r=0,o=!0,i=!1,l=void 0;try{for(var s,c=e.assignments[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value;u.grade&&(n+=Number(u.max_points),r+=Number(u.grade))}}catch(X){i=!0,l=X}finally{try{o||null==c.return||c.return()}finally{if(i)throw l}}a[t].totalPoints=g(n,2),a[t].points=g(r,2)})),n(a)}))},O=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],o=t[1];return Object(r.useEffect)((function(){n.length<1&&k().then((function(){o(function(){var e=[],t=!0,n=!1,r=void 0;try{for(var a,o=w[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var i=a.value;i.final_grade[0].grade&&i.name&&e.push({grade:i.final_grade[0].grade,name:S(i.name),id:i.section_id,image:i.image})}}catch(l){n=!0,r=l}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return e}())}))})),a.a.createElement(s.p,null,a.a.createElement(s.h,null,a.a.createElement(s.u,null,a.a.createElement(s.t,null,"Classes")),n.length<1?a.a.createElement(s.q,{type:"indeterminate"}):null),a.a.createElement(s.g,{className:"ion-padding"},a.a.createElement(s.n,null,n.map((function(e,t){return a.a.createElement(s.k,{lines:"none",key:t,routerLink:"/home/section/"+e.name+"/"+e.id},a.a.createElement(s.s,{slot:"start"},a.a.createElement(s.i,{src:e.image})),a.a.createElement(s.l,null,e.name),a.a.createElement(s.o,{slot:"end"},a.a.createElement("b",null,_(e.grade),"\xa0"),"(",e.grade,"%)"))})))))},I=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),n=t[0],o=t[1],i=Object(r.useState)(""),c=Object(u.a)(i,2),m=c[0],d=c[1],y=Object(r.useState)(""),f=Object(u.a)(y,2),g=f[0],h=f[1],j=Object(r.useState)(!1),v=Object(u.a)(j,2),_=v[0],w=v[1],k=Object(r.useState)(!1),S=Object(u.a)(k,2),x=S[0],O=S[1],I=function(){console.log([n,m,g]),window.localStorage.setItem("key",n),window.localStorage.setItem("secret",m),window.localStorage.setItem("uid",g),b(),E("users/"+p,(function(e,t,n){e?t():n("Invalid Credentials")})).then((function(){return w(!0)})).catch()};return a.a.createElement(s.p,null,_?a.a.createElement(l.a,{to:"/home"}):null,a.a.createElement(s.b,{isOpen:x,header:"Error",message:"Those credentials didn't work. Please try again.",buttons:["Okay"],onDidDismiss:function(){return O(!1)}}),a.a.createElement(s.h,null,a.a.createElement(s.u,null,a.a.createElement(s.t,null,"Welcome to Gradeology!"))),a.a.createElement(s.g,{className:"ion-padding"},a.a.createElement(s.n,null,a.a.createElement(s.k,null,a.a.createElement(s.l,{position:"stacked"},"Key"),a.a.createElement(s.j,{onIonChange:function(e){return o(e.target.value)}})),a.a.createElement(s.k,null,a.a.createElement(s.l,{position:"stacked"},"Secret"),a.a.createElement(s.j,{onIonChange:function(e){return d(e.target.value)}})),a.a.createElement(s.k,null,a.a.createElement(s.l,{position:"stacked"},"User ID"),a.a.createElement(s.j,{onIonChange:function(e){return h(e.target.value)}})),a.a.createElement("br",null),a.a.createElement(s.e,{onClick:function(){return I()},expand:"full"},"Sign In"))))},C=(n(76),n(77),n(78),n(79),n(80),n(81),n(82),n(83),n(84),n(85),n(86),window.matchMedia("(prefers-color-scheme: dark)"));function N(e){document.body.classList.toggle("dark",e)}N(C.matches),C.addListener((function(e){return N(e.matches)})),Object(s.x)({mode:"ios"});var D=function(){return a.a.createElement(s.c,null,a.a.createElement(c.a,null,a.a.createElement(s.r,null,a.a.createElement(l.b,{path:"/home/section/:name/:id/",component:h,exact:!0}),a.a.createElement(l.b,{path:"/creds",component:I,exact:!0}),a.a.createElement(l.b,{path:"/home",component:O,exact:!0}),a.a.createElement(l.b,{exact:!0,path:"/",render:function(){return a.a.createElement(l.a,{to:window.localStorage.getItem("verified")?"/home":"/creds"})}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[60,9,10]]]);
//# sourceMappingURL=main.67e861d0.chunk.js.map